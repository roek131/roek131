<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mapper.postmapper">
<select id="postList" resultType="com.example.domain.postVO"> 
select context,look,title,pnum,name,TO_CHAR(postdate, 'YYYY-MM-DD')as postdates from posts
</select> 
<select id="postdetail" resultType="com.example.domain.postVO"> 
select * from posts where pnum=#{pnum}
</select>
<select id="coment" resultType="com.example.domain.comentVO"> 
select * from coment where pnum=#{pnum}
</select>
<select id="login" resultType="com.example.domain.memberVO"> 
select * from member where id=#{id} and pw=#{pw} 
</select>
<select id="loginCheck" resultType="com.example.domain.memberVO"> 
select * from member where id=#{id} and pw=#{pw} 
</select> 
<select id="idcheck" resultType="com.example.domain.memberVO"> 
select * from member where id=#{id}
</select>
<insert id="newmember" parameterType="com.example.domain.memberVO">
		insert into member(id,pw,name)
		values(#{id},#{pw},#{name})
</insert>
<insert id="newreply" parameterType="map">
		insert into coment(pnum,ccode,text,name)
		values(#{pnum},3,#{text},#{name})
</insert>
<insert id="newpost" parameterType="map">
		insert into posts(pnum,title,context,postdate,name,look)
		values(POSTSEQ.nextval,#{title},#{context},sysdate,#{name},0)
</insert>
</mapper>